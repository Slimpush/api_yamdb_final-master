# Api Yamdb.

## Описание проекта.

Проект YaMDb собирает отзывы пользователей на произведения. Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку.
Все произведения делятся на категории, такие как «Книги», «Фильмы», «Музыка». Также, произведению может быть присвоен жанр из списка предустановленных. Добавлять новые катеегории и жанры могут некоторые пользователи.

##### Документация проекта доступна по адресу: `http://127.0.0.1:8000/redoc/`. Здесь можно узнать полные возможности проекта, его принципы работы, а также подробные схемы всех запросов и ответов.


### Роли пользователей в проекте

**Неавторизованный пользователь может:**
- Просматривать список произведений на сайте.
- Просматривать конкретное произведение по id.
- Искать произведения по фильтрам "катеогрия" и/или "жанр".
- Просматривать отзывы к произведениям.
- Просматривать комментарии к отзывам.

**Авторизированный пользователь может все перечисленно выше, а также:**
- Публиковать отзывы и ставить оценку к произведениям.
- Редактировать свои публикации.
- Удалять свои публикациию
- Оставлять комментарии к своим и чужим отзывам.
- Редактировать свои комментарии.
- Удалять свои комменатрии.

**Модератор может все перечисленно выше, а также:**
- Редактировать любые отзывы и комментарии.
- Удалять любые отзывы и комментарии.

**Администратор может все перечисленно выше, а также:**
- Создавать новые произведения, категории и жанры.
- Удалть произведения, категории и жанры.
- Назначать пользователям новые роли.

**Суперюзер обладает всеми правами Администратора.**


## Установка проекта.

Клонируйте репрозторий и перейдите в него в командной строке:

`git clone git@github.com:lo-orka/api_yamdb.git`

`cd api_yamdb`

Создайте и активируйте вируальное окружение:

`python3 -m venv env`

`source env/bin/activate`

Установите зависимости из файла requirements.txt:

`python3 -m pip install --upgrade pip`

`pip install -r requirements.txt`

Выполните миграции:

`python3 manage.py migrate`

Заполните базу данных тестовой информацией:

`python manage.py process_csv`

Запустите проект:

`python3 manage.py runserver`


#### В дериктории api_yamdb/api_yamdb/ находится шаблон ".env.sample" с настройками конфигурационных ключей, в этой же дериктории создайте файл ".env" и заполните данными.

## Примеры запросов и ответов API:

Запрос:

`http://127.0.0.1:8000/api/v1/genres/`

Ответ:
```
{
"count": 0,
"next": "string",
"previous": "string",
"results": [
{}
]
}
```

Запрос:

`http://127.0.0.1:8000/api/v1/titles/{titles_id}/`

Ответ:
```
{
"id": 0,
"name": "string",
"year": 0,
"rating": 0,
"description": "string",
"genre": [
{}
],
"category": {
"name": "string",
"slug": "string"
}
}
```

Запрос:

`http://127.0.0.1:8000/api/v1/titles/{title_id}/reviews/{review_id}/comments/`

Ответ:
```
{
"count": 0,
"next": "string",
"previous": "string",
"results": [
{}
]
}
```
